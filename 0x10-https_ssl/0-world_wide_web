#!/bin/bash

display_subdomain_info() {
  local domain=$1
  local subdomain=$2

  # Use dig to retrieve DNS record information
  local dns_record_info=$(dig +short "$subdomain.$domain")

  # Use awk to extract record type and destination
  local record_type=$(echo "$dns_record_info" | awk '{print "A"}')
  local destination=$(echo "$dns_record_info" | awk '{print $1}')

  # Display subdomain information
  echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

main() {
  local domain=$1
  local subdomain=$2

  if [ -z "$subdomain" ]; then
    # Display information for all subdomains
    display_subdomain_info "$domain" "www"
    display_subdomain_info "$domain" "lb-01"
    display_subdomain_info "$domain" "web-01"
    display_subdomain_info "$domain" "web-02"
  else
    # Display information for specified subdomain
    display_subdomain_info "$domain" "$subdomain"
  fi
}

main "$@"
